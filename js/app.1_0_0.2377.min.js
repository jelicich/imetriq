/*! imetriq v1.0.0 | (c) 2021  | ISC License | git+https://github.com/jelicich/imetriq.git */
!(function(){"use strict";const t=window.imetriq={components:["header","footer","contact","home","about","solutions","howItWorks"],timeline:new TimelineLite,localize:null,init:function(){window.scrollTo(0,0);try{this.initComponents()}catch(t){console.error(t)}this.setLinksAction(),this.startLocalization()},initComponents:function(){gsap.registerPlugin(ScrollTrigger),this.components.map(t=>{if(!this[t].init)throw"Component must have init fn.";this[t].init()})},setLinksAction:function(){document.querySelectorAll("a.scroll-to").forEach(e=>{e.onclick=function(e){e.preventDefault();const i=this.getAttribute("href"),o={duration:1,scrollTo:document.querySelector(i).offsetTop,ease:"power2.inOut"};t.timeline.to(window,o)}}),t.timeline.progress(1).progress(0)},startLocalization:function(){i18next.use(i18nextHttpBackend).init({backend:{loadPath:"./locales/{{lng}}/{{ns}}.json"}}),i18next.init({lng:"es",fallbackLng:["en"],selectorAttr:"data-i18n",useOptionsAttr:!1,parseDefaultValueFromContent:!0},(function(e,i){t.localize=locI18next.init(i18next),t.localize("body"),document.body.classList.add("loaded")}))}};window.onload=function(){t.init()}})(),(function(){"use strict";const t=window.imetriq;t.about={element:document.querySelector("#about"),timeline:new TimelineLite,animations:[{excludeMobile:!1,fn:"animateText"}],init:function(){this.animations.map(e=>{t.utils.isMobile()&&e.excludeMobile||this[e.fn]()})},animateText:function(){this.timeline.from(".About-title, .About-text",{scrollTrigger:{trigger:this.element,scrub:!0,start:"top bottom",end:"bottom bottom"},opacity:0,x:t.utils.isMobile()?0:"50vw"}),this.timeline.progress(1).progress(0)}}})(),(function(){"use strict";const t=window.imetriq;t.contact={element:document.querySelector("#contact"),timeline:new TimelineLite,animations:[{excludeMobile:!1,fn:"animateForm"},{excludeMobile:!1,fn:"animateTitle"},{excludeMobile:!0,fn:"animateSubmit"}],init:function(){this.setForm(),this.animations.map(e=>{t.utils.isMobile()&&e.excludeMobile||this[e.fn]()}),this.timeline.progress(1).progress(0)},setForm:function(){const e=this.element.querySelector("form"),i=this.element.querySelector('input[type="text"]'),o=this.element.querySelector('input[type="email"]'),n=this.element.querySelector('button[type="submit"]'),s=this.element.querySelector(".Contact-snackBar");let r;e.onsubmit=(e=>{const l=i18next.language;e.preventDefault();const a={name:i.value,email:o.value,lang:l};n.setAttribute("disabled",!0),n.classList.add("isLoading"),clearTimeout(r),t.utils.post("services/sendEmail.php",a).finally(()=>{n.removeAttribute("disabled"),n.classList.remove("isLoading"),s.classList.add("isVisible"),r=setTimeout(()=>{s.classList.remove("isVisible"),s.classList.remove("Contact-snackBar--error"),s.classList.remove("Contact-snackBar--success"),s.innerHTML=""},5e3)}).then(t=>{s.innerHTML=t.message,t.error?s.classList.add("Contact-snackBar--error"):(i.value="",o.value="",s.classList.add("Contact-snackBar--success"))},t=>{s.innerHTML=t,s.classList.add("Contact-snackBar--error")})})},animateForm:function(){this.timeline.from('input[type="email"]',{scrollTrigger:{trigger:this.element,scrub:!0,start:"top bottom",end:"bottom bottom"},x:"-50vw"}).from('input[type="text"]',{scrollTrigger:{trigger:this.element,scrub:!0,start:"top bottom",end:"bottom bottom"},x:t.utils.isMobile()?"50vw":0})},animateTitle:function(){const t=this.element.querySelector("h1");this.timeline.from(t,{scrollTrigger:{trigger:this.element,scrub:!0,start:"top bottom",end:"bottom bottom"},y:"-25vw",opacity:0})},animateSubmit:function(){const t=this.element.querySelector('button[type="submit"]'),e=this.element.querySelector('button[type="submit"] img');t.addEventListener("mouseenter",()=>{gsap.to(e,{x:"15px",ease:"power2.inOut"})}),t.addEventListener("mouseleave",()=>{gsap.to(e,{x:"0px",ease:"power2.inOut"})})}}})(),(function(){"use strict";const t=window.imetriq;t.footer={element:document.querySelector("#footer"),minScroll:null,maxScroll:null,init:function(){t.utils.isMobile()||(this.setLimits(),t.utils.toggleClassOnScrollRange(this.element,"Footer--dark",[this.minScroll,this.maxScroll]),this.setScrollBehaviour())},setLimits:function(){const t=document.querySelector("#solutions").getBoundingClientRect().top,e=document.querySelector("#how-it-works").getBoundingClientRect().bottom;this.minScroll=t-this.element.getBoundingClientRect().bottom+this.element.offsetHeight/2,this.maxScroll=e-this.element.getBoundingClientRect().top-this.element.offsetHeight/2},setScrollBehaviour:function(){window.addEventListener("scroll",()=>{t.utils.toggleClassOnScrollRange(this.element,"Footer--dark",[this.minScroll,this.maxScroll])})}}})(),(function(){"use strict";const t=window.imetriq;t.home={element:document.querySelector("#home"),timeline:new TimelineLite,animations:[{excludeMobile:!1,fn:"startParallax"}],init:function(){this.animations.map(e=>{t.utils.isMobile()&&e.excludeMobile||this[e.fn]()})},startParallax:function(){this.timeline.to(".Home-backgroundRight",{scrollTrigger:{trigger:this.element,scrub:!0,start:"top top",end:"bottom top"},backgroundPositionY:t.utils.isMobile()?"-100%":0,y:t.utils.isMobile()?0:"50vh"}).to(".Home-backgroundLeft",{scrollTrigger:{trigger:this.element,scrub:!0,start:"top top",end:"bottom top"},y:"-75%"}).to(".Home-mainText",{scrollTrigger:{trigger:this.element,scrub:!0,start:"bottom bottom",end:"bottom top"},opacity:.05,y:"-75%"}),this.timeline.progress(1).progress(0)}}})(),(function(){"use strict";const t=[".nth1",".nth2",".nth3",".nth4"],e=window.imetriq;e.howItWorks={element:document.querySelector("#how-it-works"),timeline:new TimelineLite,animations:[{excludeMobile:!1,fn:"animateText"},{excludeMobile:!0,fn:"animateChips"}],init:function(){this.animations.map(t=>{e.utils.isMobile()&&t.excludeMobile||this[t.fn]()}),this.timeline.progress(1).progress(0)},animateText:function(){const t=this.element.querySelectorAll("h2, h3, p");this.timeline.from(t,{scrollTrigger:{trigger:this.element,scrub:!0,start:e.utils.isMobile()?"25% bottom":"25% 50%",end:"top top"},opacity:0})},animateChips:function(){this.timeline.from(".HowItWorks-chip"+t[1],{scrollTrigger:{trigger:this.element,scrub:!0,start:"top bottom",end:"20% 40%"},opacity:0,x:"-25vw"}).from(".HowItWorks-chip"+t[0],{scrollTrigger:{trigger:this.element,scrub:!0,start:"50% bottom",end:"20% 40%"},opacity:0,x:"-25vw"}).from(".HowItWorks-chip"+t[2],{scrollTrigger:{trigger:this.element,scrub:!0,start:"top bottom",end:"20% 40%"},opacity:0,x:"25vw"}).from(".HowItWorks-chip"+t[3],{scrollTrigger:{trigger:this.element,scrub:!0,start:"50% bottom",end:"20% 40%"},opacity:0,x:"25vw"})}}})(),(function(){"use strict";const t=".SiteHeader-nav a, .SiteHeader-logoContainer a",e=window.imetriq;e.header={element:document.querySelector("#site-header"),init:function(){this.setLimits(),e.utils.toggleClassOnScrollRange(this.element,"SiteHeader--dark",[this.minScroll,this.maxScroll]),this.setScrollBehaviour(),e.utils.isMobile()?(this.setHamburgerButton(),this.setMobileLinks(),this.startSectionMobileListener()):this.startIntersectionObserver()},setScrollBehaviour:function(){window.addEventListener("scroll",()=>{e.utils.toggleClassOnScrollRange(this.element,"SiteHeader--dark",[this.minScroll,this.maxScroll]),this.element.classList.toggle("SiteHeader--opaque",window.scrollY>50)})},setLimits:function(){const t=document.querySelector("#solutions").getBoundingClientRect().top,e=document.querySelector("#how-it-works").getBoundingClientRect().bottom;this.minScroll=t-this.element.getBoundingClientRect().bottom+this.element.offsetHeight/2,this.maxScroll=e-this.element.getBoundingClientRect().top-this.element.offsetHeight/2},setHamburgerButton:function(){this.element.querySelector(".SiteHeader-hamburger").onclick=(()=>{this.toggleMobileMenuClasses()})},setMobileLinks:function(){this.element.querySelectorAll(".SiteHeader-mobileNav a, .SiteHeader-logoContainer a").forEach(t=>{t.addEventListener("click",()=>{this.toggleMobileMenuClasses(!1)})})},toggleMobileMenuClasses:function(t){this.element.querySelector(".SiteHeader-hamburger").classList.toggle("isActive",t),this.element.querySelector(".SiteHeader-mobileMenu").classList.toggle("isActive",t),document.body.classList.toggle("isBlocked",t),document.documentElement.classList.toggle("isBlocked",t)},startIntersectionObserver:function(){this.element.querySelectorAll(t).forEach(t=>{new IntersectionObserver(function(t){if(t[0].isIntersecting){const i="#"+t[0].target.getAttribute("id");e.header.setActiveLink(i)}},{root:document.querySelector("main"),threshold:.65}).observe(document.querySelector(t.getAttribute("href")))})},startSectionMobileListener:function(){window.addEventListener("scroll",()=>{this.element.querySelectorAll(t).forEach(t=>{const i=.25*window.innerHeight,o=t.getAttribute("href");document.querySelector(o).getBoundingClientRect().top<i&&e.header.setActiveLink(o)})})},setActiveLink:function(e){this.element.querySelectorAll(`${t}, .SiteHeader-mobileNav a, .SiteHeader-logoContainer a`).forEach(t=>{t.getAttribute("href")===e?t.classList.toggle("isActive",!0):t.classList.toggle("isActive",!1)})},translate:function(t){const i=t.dataset.translateTo;i18next.changeLanguage(i).then(()=>{e.localize("body")}),t.dataset.translateTo="en"===i?"es":"en";const o="en"===i?"ESP":"ENG";(new TimelineLite).to(t.firstElementChild,.2,{text:"",ease:Linear.easeNone}).to(t.firstElementChild,.2,{text:o,ease:Linear.easeNone})}}})(),(function(){"use strict";const t=window.imetriq;t.solutions={element:document.querySelector("#solutions"),timeline:new TimelineLite,animations:[{excludeMobile:!1,fn:"animateTitle"},{excludeMobile:!0,fn:"animateBg"},{excludeMobile:!0,fn:"animateContent"}],init:function(){this.animations.map(e=>{t.utils.isMobile()&&e.excludeMobile||this[e.fn]()}),this.timeline.progress(1).progress(0)},animateTitle:function(){this.timeline.from(".Solutions-title",{scrollTrigger:{trigger:this.element,scrub:!0,start:t.utils.isMobile()?"top 90%":"top bottom",end:"top top"},opacity:0,x:t.utils.isMobile()?0:"-50vw"}).from(".Solutions-titleIcon",{scrollTrigger:{trigger:this.element,scrub:!0,start:t.utils.isMobile()?"top 25%":"center 75%",end:"top top"},opacity:0,x:"10vw"})},animateBg:function(){this.timeline.from(this.element,{scrollTrigger:{trigger:this.element,scrub:!0,start:"top center",end:"bottom bottom"},backgroundPositionY:"100vh"})},animateContent:function(){this.timeline.from(".Solutions-contentContainer",{scrollTrigger:{trigger:this.element,scrub:!0,start:"25% bottom",end:"bottom bottom"},opacity:0})}}})(),(function(){"use strict";window.imetriq.utils={toggleClassOnScrollRange:function(t,e,i){window.scrollY>=i[0]&&window.scrollY<i[1]?t.classList.toggle(e,!0):t.classList.toggle(e,!1)},isMobile:function(){let t=!1;var e;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t},post:function(t,e){return new Promise((i,o)=>{var n=new XMLHttpRequest;n.onreadystatechange=function(){4==this.readyState&&(200==this.status?i(JSON.parse(this.responseText)):o(this.status))},n.open("POST","./"+t,!0),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded");const s=Object.keys(e).map(t=>t+"="+e[t]).join("&");n.send(s)})}}})();